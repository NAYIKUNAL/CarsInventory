@model CarsInventory.Models.CarViewModel

@{
    ViewBag.Title = "Cars";
}

<div class="row" style="padding-bottom:2%; padding-top:2%;">
    <div class="col-md-12">
        @*<button type="button" class="btn btn-success btn-lg pull-right" data-toggle="modal" data-target="#addCarModal">Add car</button>*@
        <button type="button" class="btn btn-success btn-lg pull-right" onclick="AddEditCar(0)">Add car</button>
    </div>
</div>
<div class="row">
    <!-- Trigger the modal with a button -->

    <table id="example" class="table table-striped table-bordered" cellspacing="0" width="100%">
        <thead>
            <tr>
                <th width="5%"> # </th>
                <th width="15%"> Brand </th>
                <th width="15%"> Model </th>
                <th width="15%"> Year </th>
                <th width="15%"> Price </th>
                <th width="10%"> Is New </th>
                <th width="20%"> &nbsp; </th>
            </tr>
        </thead>

        <tbody></tbody>
    </table>
</div>

<!-- add car Modal -->
<div id="addCarModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div id="modelContent">

        </div>
    </div>
</div>

@*<!-- add car Modal -->
    <div id="editCarModal" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Edit Car</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal" action="">
                        <div class="form-group">
                            <label class="control-label col-sm-2" for="Brand">Brand:</label>
                            <div class="col-sm-10">
                                <input type="email" class="form-control" id="txtbrand" placeholder="Enter Brand" name="Brand">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-2" for="Model">Model:</label>
                            <div class="col-sm-10">
                                <input type="password" class="form-control" id="txtModel" placeholder="Enter model" name="Model">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-2" for="Year">Year:</label>
                            <div class="col-sm-10">
                                <input type="password" class="form-control" id="txtYear" placeholder="Enter year" name="Year">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-2" for="pwd">Price:</label>
                            <div class="col-sm-10">
                                <input type="password" class="form-control" id="txtPrice" placeholder="Enter price" name="Price">
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-10" style="text-align:left">
                                <label class="control-label col-sm-3" for="pwd">Car type:</label>
                                <div class="checkbox">
                                    <label><input type="checkbox" name="remember"> New</label>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-info" data-dismiss="modal">Update</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                </div>
            </div>

        </div>
    </div>*@

@section scripts{
    <script type="text/javascript">
        var lsAddEditCar = '@Url.RouteUrl("Default", new { controller = "CarsInventory", action = "AddEditCar" })';
        var lsSaveCarInformation = '@Url.RouteUrl("Default", new { controller = "CarsInventory", action = "SaveCarInformation" })';
        var lsRemoveCar = '@Url.RouteUrl("Default", new { controller = "CarsInventory", action = "RemoveCarInformation" })';
        var lsListURL = '@Url.RouteUrl("Default", new { controller = "CarsInventory", action = "Index" })';
    </script>
    <script src="~/Scripts/DataTables/jquery.dataTables.min.js"></script>
    <script src="~/Scripts/DataTables/dataTables.bootstrap.min.js"></script>
    <script src="~/Scripts/Cars.js"></script>
    <link href="~/Content/DataTables/css/dataTables.bootstrap.min.css" rel="stylesheet" />
    <script>
        $(document).ready(function () {
            $('#example').DataTable({
                bProcessing: true,
                sAjaxSource: '@Url.Action("GetCarList", "CarsInventory")',
                aoColumns: [
                    { bSearchable: false, bVisible: false, 'data': 'inCarId' },
                    { bSearchable: true, 'data': 'stBrand' },
                    { bSearchable: true, 'data': 'stModel' },
                    { bSearchable: false, 'data': 'inYear' },
                    { bSearchable: false, 'data': 'dcPrice' },
                    { bSearchable: false, 'data': 'flgIsNew' },
                    {
                        bSortable: false,
                        mRender: function (data, type, row) {
                            return '<button type="button" class="btn btn-success btn-sm mt-ladda-btn ladda-button btn-circle" onclick="AddEditCar(' + row.inCarId + ')">Edit</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<button type="button" class="btn btn-danger btn-sm mt-ladda-btn ladda-button btn-circle" title="Remove" onclick="RemoveCar(' + row.inCarId + ');">Remove</button>';
                        }
                    }
                ]
            });
        });
    </script>
}